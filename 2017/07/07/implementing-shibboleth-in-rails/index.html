<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    
    <title>Implementing Shibboleth login in Rails application | Yuxi Fan</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
        <meta name="keywords" content="rails,shibboleth,passenger">
    
    <meta name="description" content="Further to the basic configuration to make Shibboleth working with Apache 2, it’s time to configure Rails application with Shibboleth. You may want to get Phusion Passenger working first, here is the">
<meta property="og:type" content="article">
<meta property="og:title" content="Implementing Shibboleth login in Rails application">
<meta property="og:url" content="https://www.yuxifan.com/2017/07/07/implementing-shibboleth-in-rails/index.html">
<meta property="og:site_name" content="Yuxi Fan">
<meta property="og:description" content="Further to the basic configuration to make Shibboleth working with Apache 2, it’s time to configure Rails application with Shibboleth. You may want to get Phusion Passenger working first, here is the">
<meta property="og:image" content="https://www.yuxifan.com/images/ruby/rails.png">
<meta property="og:updated_time" content="2017-07-07T14:48:09.295Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Implementing Shibboleth login in Rails application">
<meta name="twitter:description" content="Further to the basic configuration to make Shibboleth working with Apache 2, it’s time to configure Rails application with Shibboleth. You may want to get Phusion Passenger working first, here is the">
<meta name="twitter:image" content="https://www.yuxifan.com/images/ruby/rails.png">
    

    

    
        <link rel="alternate" href="/atom.xml" title="Yuxi Fan" type="application/atom+xml">
    

    

    
        <link rel="icon" href="/favicon.ico">
    

    <link rel="stylesheet" href="/js/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/js/titillium-web/styles.css">
    <link rel="stylesheet" href="/js/source-code-pro/styles.css">

    <link rel="stylesheet" href="/css/style.css">

    <script src="/js/jquery/2.0.3/jquery.min.js"></script>
    
    
        <link rel="stylesheet" href="/js/lightgallery/css/lightgallery.min.css">
    
    
        <script type="text/javascript">
(function(i,s,o,g,r,a,m) {i['GoogleAnalyticsObject']=r;i[r]=i[r]||function() {
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-67297895-9', 'auto');
ga('send', 'pageview');

</script>
    
    


</head>
</html>
<body>
    <div id="wrap">
        <header id="header">
    <div id="header-outer" class="outer">
        <div class="container">
            <div class="container-inner">
                <div id="header-title">
                    <h1 class="logo-wrap">
                        <a href="/" class="logo"></a>
                    </h1>
                    
                        <h2 class="subtitle-wrap">
                            <p class="subtitle">Yuxi Fan - Yuxi&#39;s development blog</p>
                        </h2>
                    
                </div>
                <div id="header-inner" class="nav-container">
                    <a id="main-nav-toggle" class="nav-icon fa fa-bars"></a>
                    <div class="nav-container-inner">
                        <ul id="main-nav">
                            
                                <li class="main-nav-list-item">
                                    <a class="main-nav-list-link" href="/">home</a>
                                </li>
                            
                                        <ul class="main-nav-list"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/css/">css</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/database/">database</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/git/">git</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/hexo/">hexo</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/java/">java</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/javascript/">javascript</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/jekyll/">jekyll</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/linux/">linux</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/mobile/">mobile</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/ruby/">ruby</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/solr/">solr</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/tool/">tool</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/windows/">windows</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/xslt/">xslt</a></li></ul>
                                    
                        </ul>
                        <nav id="sub-nav">
                            <div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="Search">
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="Type something...">
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'Posts',
            PAGES: 'Pages',
            CATEGORIES: 'Categories',
            TAGS: 'Tags',
            UNTITLED: '(Untitled)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>

</div>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>

        <div class="container">
            <div class="main-body container-inner">
                <div class="main-body-inner">
                    <section id="main">
                        <div class="main-body-header">

  
    <h1 class="header">
    
    <a class="page-title-link" href="/categories/ruby/">ruby</a>
    </h1>
  

</div>

                        <div class="main-body-content">
                            <article id="post-implementing-shibboleth-in-rails" class="article article-single article-type-post" itemscope="" itemprop="blogPost">
    <div class="article-inner">
        
            <header class="article-header">
                
    
        <h1 class="article-title" itemprop="name">
        Implementing Shibboleth login in Rails application
        </h1>
    

            </header>
        
        
            <div class="article-subtitle">
                <a href="/2017/07/07/implementing-shibboleth-in-rails/" class="article-date">
    <time datetime="2017-07-07T11:51:12.000Z" itemprop="datePublished">2017-07-07</time>
</a>
                
    <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/passenger/">passenger</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/rails/">rails</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/shibboleth/">shibboleth</a></li></ul>

            </div>
        
        
        <div class="article-entry" itemprop="articleBody">

            

            <p>Further to the basic configuration to <a href="/2017/07/04/configure-shibboleth-service-provider-ubuntu-16/">make Shibboleth working with Apache 2</a>, it’s time to configure Rails application with Shibboleth. You may want to get Phusion Passenger working first, here is the tutorial: <a href="/2017/07/07/phusion-passenger/">Setting up Phusion Passenger with Apache2</a>.</p>
<p><img src="/images/ruby/rails.png" alt="Rails"></p>
<h2 id="0-Environements"><a href="#0-Environements" class="headerlink" title="0) Environements"></a>0) Environements</h2><p>Ubuntu: 16<br>Apache: 2.4.7<br>Ruby: 2.3.1<br>Phusion Passenger: 5.1.5<br>Shibboleth: 2.5.2</p>
<h2 id="1-Configure-Apache2"><a href="#1-Configure-Apache2" class="headerlink" title="1) Configure Apache2"></a>1) Configure Apache2</h2><p>First, edit /etc/apache2/sites-enabled/default-ssl.conf and add:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;Location <span class="string">"/Shibboleth.sso"</span>&gt;</div><div class="line">  Require all granted</div><div class="line">  PassengerEnabled off</div><div class="line">&lt;/Location&gt;</div></pre></td></tr></table></figure>
<p>and</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;Location <span class="string">"/users/auth/shibboleth"</span>&gt;</div><div class="line">  AuthType shibboleth</div><div class="line">  ShibRequestSetting requireSession 1</div><div class="line">  require valid-user</div><div class="line">&lt;/Location&gt;</div></pre></td></tr></table></figure>
<p>You may want to comment out the following line in /etc/apache2/apache2.conf, otherwise, you have to grant acess to each individual path.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#&lt;Directory /&gt;</span></div><div class="line"><span class="comment">#       Options FollowSymLinks</span></div><div class="line"><span class="comment">#       AllowOverride None</span></div><div class="line"><span class="comment">#       Require all denied</span></div><div class="line"><span class="comment">#&lt;/Directory&gt;</span></div></pre></td></tr></table></figure>
<h2 id="2-Configure-develop-Rails-application-to-support-Shibooleth"><a href="#2-Configure-develop-Rails-application-to-support-Shibooleth" class="headerlink" title="2) Configure/develop Rails application to support Shibooleth"></a>2) Configure/develop Rails application to support Shibooleth</h2><h3 id="2-1-Add-gem-‘omniauth-shibboleth’-into-Gemfile-and-run"><a href="#2-1-Add-gem-‘omniauth-shibboleth’-into-Gemfile-and-run" class="headerlink" title="2.1) Add gem ‘omniauth-shibboleth’ into Gemfile and run"></a>2.1) Add gem ‘omniauth-shibboleth’ into Gemfile and run</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">bundle install</div></pre></td></tr></table></figure>
<h3 id="2-2-Edit-config-initializers-devise-rb"><a href="#2-2-Edit-config-initializers-devise-rb" class="headerlink" title="2.2) Edit config/initializers/devise.rb:"></a>2.2) Edit config/initializers/devise.rb:</h3><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">config.omniauth <span class="symbol">:shibboleth</span>, &#123;<span class="symbol">:uid_field</span> =&gt; <span class="string">'eppn'</span>,</div><div class="line">                                <span class="symbol">:info_fields</span> =&gt; &#123;</div><div class="line">                                <span class="symbol">:affiliation</span> =&gt; lambda &#123;<span class="params">|request_param|</span> request_param.call(<span class="string">'unscoped-affiliation'</span>).split(<span class="string">';'</span>)&#125;,</div><div class="line">                                &#125;,</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="2-3-Edit-app-models-user-rb"><a href="#2-3-Edit-app-models-user-rb" class="headerlink" title="2.3) Edit app/models/user.rb"></a>2.3) Edit app/models/user.rb</h3><p>Add method:</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">self</span>.<span class="title">from_omniauth</span><span class="params">(auth)</span></span></div><div class="line">    where(<span class="symbol">provider:</span> auth.provider, <span class="symbol">uid:</span> auth.uid).first_or_create <span class="keyword">do</span> <span class="params">|user|</span></div><div class="line">      user.provider = auth.provider</div><div class="line">      user.uid      = auth.uid</div><div class="line">      user.email    = auth.uid</div><div class="line">      user.password = Devise.friendly_token[<span class="number">0</span>,<span class="number">20</span>]</div><div class="line">    <span class="keyword">end</span></div><div class="line"><span class="keyword">end</span></div></pre></td></tr></table></figure>
<p>Also add :omniauthable to declaration in user.rb</p>
<h3 id="2-4-Add-a-controller-e-g-app-controllers-omniauthcallbacks-controller-rb"><a href="#2-4-Add-a-controller-e-g-app-controllers-omniauthcallbacks-controller-rb" class="headerlink" title="2.4) Add a controller, e.g. app/controllers/omniauthcallbacks_controller.rb"></a>2.4) Add a controller, e.g. app/controllers/omniauthcallbacks_controller.rb</h3><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">OmniauthcallbacksController</span> &lt; Devise::OmniauthCallbacksController</span></div><div class="line">  <span class="function"><span class="keyword">def</span> <span class="title">shibboleth</span></span></div><div class="line">    @user = User.from_omniauth(request.env[<span class="string">"omniauth.auth"</span>])</div><div class="line">    session[<span class="string">'shib_user_data'</span>] = request.env[<span class="string">"omniauth.auth"</span>]</div><div class="line">    sign_in_and_redirect @user</div><div class="line">  <span class="keyword">end</span></div><div class="line"></div><div class="line">  <span class="function"><span class="keyword">def</span> <span class="title">failure</span></span></div><div class="line">    redirect_to new_local_user_session_path, <span class="symbol">:notice</span> =&gt; <span class="string">"Cannot login via Shibboleth - redirect to local login ..."</span></div><div class="line">  <span class="keyword">end</span></div><div class="line"><span class="keyword">end</span></div></pre></td></tr></table></figure>
<h3 id="2-5-edit-config-routes-rb"><a href="#2-5-edit-config-routes-rb" class="headerlink" title="2.5) edit config/routes.rb"></a>2.5) edit config/routes.rb</h3><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">devise_for <span class="symbol">:users</span>, <span class="symbol">:controllers</span> =&gt; &#123; <span class="symbol">:omniauth_callbacks</span> =&gt; <span class="string">"omniauthcallbacks"</span> &#125;, <span class="symbol">:skip</span> =&gt; [<span class="symbol">:sessions</span>]</div></pre></td></tr></table></figure>
<p>Run:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">rails g migration AddColumnsToUsers provider uid</div><div class="line">rake db:migrate</div></pre></td></tr></table></figure></p>
<h3 id="2-6-edit-routes-rb-and-add"><a href="#2-6-edit-routes-rb-and-add" class="headerlink" title="2.6) edit routes.rb and add:"></a>2.6) edit routes.rb and add:</h3><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">devise_scope <span class="symbol">:user</span> <span class="keyword">do</span></div><div class="line">    match <span class="string">"/users/auth/shibboleth"</span> =&gt; <span class="string">"omniauth_callbacks#passthru"</span>, <span class="symbol">as:</span> <span class="string">"new_user_session"</span>,       <span class="symbol">via:</span> [<span class="symbol">:get</span>]</div><div class="line">    match <span class="string">"/users/sign_in"</span>         =&gt; <span class="string">"devise/sessions#new"</span>,         <span class="symbol">as:</span> <span class="string">"new_local_user_session"</span>, <span class="symbol">via:</span> [<span class="symbol">:get</span>]</div><div class="line">    match <span class="string">"/users/sign_in"</span>         =&gt; <span class="string">"devise/sessions#create"</span>,      <span class="symbol">as:</span> <span class="string">"user_session"</span>,           <span class="symbol">via:</span> [<span class="symbol">:post</span>]</div><div class="line">    match <span class="string">"/users/sign_out"</span>        =&gt; <span class="string">"devise/sessions#destroy"</span>,     <span class="symbol">as:</span> <span class="string">"destroy_user_session"</span>,   <span class="symbol">via:</span> [<span class="symbol">:get</span>]</div><div class="line"><span class="keyword">end</span></div></pre></td></tr></table></figure>


            
              <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

              <!-- autosize -->
              <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-9869806761757481" data-ad-slot="8827673952" data-ad-format="auto"></ins>

              <script>
                  (adsbygoogle = window.adsbygoogle || []).push({});
              </script>
            

        </div>
        <footer class="article-footer">
            



    <a data-url="https://www.yuxifan.com/2017/07/07/implementing-shibboleth-in-rails/" data-id="cj4tz7j4q0000oyxu6ohfexml" class="article-share-link"><i class="fa fa-share"></i>Share</a>
<script>
    (function ($) {
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

        </footer>
    </div>
</article>

    <section id="comments">
    
        
    <div id="disqus_thread">
        <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>

    
    </section>


                        </div>
                    </section>
                    <aside id="sidebar">
    <a class="sidebar-toggle" title="Expand Sidebar"><i class="toggle icon"></i></a>
    <div class="sidebar-top">
        <p>follow:</p>
        <ul class="social-links">
            
                
                <li>
                    <a class="social-tooltip" title="google-plus" href="https://plus.google.com/104826207350368986265" target="_blank" rel="external nofollow noopener noreferrer">
                        <i class="icon fa fa-google-plus"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="rss" href="/atom.xml" target="_blank">
                        <i class="icon fa fa-rss"></i>
                    </a>
                </li>
                
            
        </ul>
    </div>
    
        
<nav id="article-nav">
    
        <a href="/2017/09/05/run-temporary-http-server/" id="article-nav-newer" class="article-nav-link-wrap">
        <strong class="article-nav-caption">newer</strong>
        <p class="article-nav-title">
        
            How to run a temporary http server without installing Nginx / Apache in Ubuntu
        
        </p>
        <i class="icon fa fa-chevron-right" id="icon-chevron-right"></i>
    </a>
    
    
        <a href="/2017/07/21/multi-select-faceting/" id="article-nav-older" class="article-nav-link-wrap">
        <strong class="article-nav-caption">older</strong>
        <p class="article-nav-title">Multi-select facting in Java</p>
        <i class="icon fa fa-chevron-left" id="icon-chevron-left"></i>
        </a>
    
</nav>

    
    <div class="widgets-container">
        
            
                <div class="widget-wrap widget-list">
    <div class="widget">
      <a href="https://www.vultr.com/?ref=6856003" target="_blank" rel="external nofollow noopener noreferrer">
        <img src="/images/ads/vultr2_300x250.png">
      </a>
    </div>
</div>


            
                
    <div class="widget-wrap">
        <h3 class="widget-title">recents</h3>
        <div class="widget">
            <ul id="recent-post" class="">
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2017/09/05/run-temporary-http-server/" class="thumbnail">
    
    
        <span style="background-image:url(/images/linux/web-server.jpg)" alt="How to run a temporary http server without installing Nginx / Apache in Ubuntu" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/linux/">linux</a></p>
                            <p class="item-title"><a href="/2017/09/05/run-temporary-http-server/" class="title">How to run a temporary http server without installing Nginx / Apache in Ubuntu</a></p>
                            <p class="item-date"><time datetime="2017-09-05T01:10:12.000Z" itemprop="datePublished">2017-09-05</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2017/07/28/setup-python-steem-development-environment/" class="thumbnail">
    
    
        <span style="background-image:url(/images/linux/steem/python-steem.png)" alt="Setup python development environment for Steem on Ubuntu 16" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/linux/">linux</a></p>
                            <p class="item-title"><a href="/2017/07/28/setup-python-steem-development-environment/" class="title">Setup python development environment for Steem on Ubuntu 16</a></p>
                            <p class="item-date"><time datetime="2017-07-28T04:51:12.000Z" itemprop="datePublished">2017-07-28</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2017/07/21/multi-select-faceting/" class="thumbnail">
    
    
        <span style="background-image:url(/images/java/solr.png)" alt="Multi-select facting in Java" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/java/">java</a></p>
                            <p class="item-title"><a href="/2017/07/21/multi-select-faceting/" class="title">Multi-select facting in Java</a></p>
                            <p class="item-date"><time datetime="2017-07-21T21:51:12.000Z" itemprop="datePublished">2017-07-21</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2017/07/14/upload-via-sftp-in-java/" class="thumbnail">
    
    
        <span style="background-image:url(/images/linux/sftp.png)" alt="Upload via SFTP in Java" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/java/">java</a></p>
                            <p class="item-title"><a href="/2017/07/14/upload-via-sftp-in-java/" class="title">Upload via SFTP in Java</a></p>
                            <p class="item-date"><time datetime="2017-07-14T11:51:12.000Z" itemprop="datePublished">2017-07-14</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2017/07/07/implementing-shibboleth-in-rails/" class="thumbnail">
    
    
        <span style="background-image:url(/images/ruby/rails.png)" alt="Implementing Shibboleth login in Rails application" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/ruby/">ruby</a></p>
                            <p class="item-title"><a href="/2017/07/07/implementing-shibboleth-in-rails/" class="title">Implementing Shibboleth login in Rails application</a></p>
                            <p class="item-date"><time datetime="2017-07-07T11:51:12.000Z" itemprop="datePublished">2017-07-07</time></p>
                        </div>
                    </li>
                
            </ul>
        </div>
    </div>

            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">categories</h3>
        <div class="widget">
            <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/css/">css</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/">database</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/git/">git</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/hexo/">hexo</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/">java</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/javascript/">javascript</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/jekyll/">jekyll</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/">linux</a><span class="category-list-count">17</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/mobile/">mobile</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/ruby/">ruby</a><span class="category-list-count">23</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/solr/">solr</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/tool/">tool</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/windows/">windows</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/xslt/">xslt</a><span class="category-list-count">2</span></li></ul>
        </div>
    </div>


            
                <div class="widget-wrap widget-list">
    <div class="widget">
      <a href="https://m.do.co/c/65b73b833dd9" target="_blank" rel="external nofollow noopener noreferrer">
        <img src="/images/ads/digital-ocean-promo.gif">
      </a>
    </div>
</div>


            
                
    <div class="widget-wrap widget-float">
        <h3 class="widget-title">tag cloud</h3>
        <div class="widget tagcloud">
            <a href="/tags/Apache/" style="font-size: 10px;">Apache</a> <a href="/tags/Chinese-converter/" style="font-size: 10px;">Chinese converter</a> <a href="/tags/GraphicsMagick/" style="font-size: 10px;">GraphicsMagick</a> <a href="/tags/ImageMagick/" style="font-size: 10px;">ImageMagick</a> <a href="/tags/JSTL/" style="font-size: 11.67px;">JSTL</a> <a href="/tags/LEMP/" style="font-size: 10px;">LEMP</a> <a href="/tags/Linux/" style="font-size: 13.33px;">Linux</a> <a href="/tags/Nginx/" style="font-size: 10px;">Nginx</a> <a href="/tags/Phusion-Passenger/" style="font-size: 10px;">Phusion Passenger</a> <a href="/tags/Python/" style="font-size: 10px;">Python</a> <a href="/tags/QR-code/" style="font-size: 10px;">QR code</a> <a href="/tags/Rails/" style="font-size: 10px;">Rails</a> <a href="/tags/Ruby/" style="font-size: 10px;">Ruby</a> <a href="/tags/Steem/" style="font-size: 10px;">Steem</a> <a href="/tags/Tomcat/" style="font-size: 10px;">Tomcat</a> <a href="/tags/URL-redirects/" style="font-size: 10px;">URL redirects</a> <a href="/tags/Ubuntu/" style="font-size: 10px;">Ubuntu</a> <a href="/tags/VM/" style="font-size: 10px;">VM</a> <a href="/tags/Wordpress/" style="font-size: 10px;">Wordpress</a> <a href="/tags/activemq/" style="font-size: 10px;">activemq</a> <a href="/tags/ads/" style="font-size: 10px;">ads</a> <a href="/tags/apt/" style="font-size: 10px;">apt</a> <a href="/tags/css/" style="font-size: 10px;">css</a> <a href="/tags/cyanogenmod/" style="font-size: 10px;">cyanogenmod</a> <a href="/tags/disqus/" style="font-size: 10px;">disqus</a> <a href="/tags/dropbox/" style="font-size: 11.67px;">dropbox</a> <a href="/tags/excel/" style="font-size: 10px;">excel</a> <a href="/tags/faceting/" style="font-size: 10px;">faceting</a> <a href="/tags/faraday/" style="font-size: 10px;">faraday</a> <a href="/tags/feed/" style="font-size: 10px;">feed</a> <a href="/tags/fontawesome/" style="font-size: 10px;">fontawesome</a> <a href="/tags/gapps/" style="font-size: 10px;">gapps</a> <a href="/tags/gem/" style="font-size: 13.33px;">gem</a> <a href="/tags/git/" style="font-size: 11.67px;">git</a> <a href="/tags/gmail/" style="font-size: 11.67px;">gmail</a> <a href="/tags/hexo/" style="font-size: 13.33px;">hexo</a> <a href="/tags/html/" style="font-size: 10px;">html</a> <a href="/tags/http-server/" style="font-size: 10px;">http server</a> <a href="/tags/hyperlink/" style="font-size: 10px;">hyperlink</a> <a href="/tags/image/" style="font-size: 11.67px;">image</a> <a href="/tags/imagemagick/" style="font-size: 10px;">imagemagick</a> <a href="/tags/incron/" style="font-size: 10px;">incron</a> <a href="/tags/java/" style="font-size: 16.67px;">java</a> <a href="/tags/javascript/" style="font-size: 10px;">javascript</a> <a href="/tags/jekyll/" style="font-size: 10px;">jekyll</a> <a href="/tags/json/" style="font-size: 10px;">json</a> <a href="/tags/linux/" style="font-size: 18.33px;">linux</a> <a href="/tags/mailgun/" style="font-size: 10px;">mailgun</a> <a href="/tags/minify/" style="font-size: 11.67px;">minify</a> <a href="/tags/nofollow/" style="font-size: 10px;">nofollow</a> <a href="/tags/nokogiri/" style="font-size: 11.67px;">nokogiri</a> <a href="/tags/notepad/" style="font-size: 11.67px;">notepad++</a> <a href="/tags/odin/" style="font-size: 10px;">odin</a> <a href="/tags/passenger/" style="font-size: 10px;">passenger</a> <a href="/tags/plugin/" style="font-size: 10px;">plugin</a> <a href="/tags/proxy-server/" style="font-size: 10px;">proxy server</a> <a href="/tags/python/" style="font-size: 10px;">python</a> <a href="/tags/qr/" style="font-size: 10px;">qr</a> <a href="/tags/rails/" style="font-size: 11.67px;">rails</a> <a href="/tags/rbenv/" style="font-size: 10px;">rbenv</a> <a href="/tags/redis/" style="font-size: 11.67px;">redis</a> <a href="/tags/rss/" style="font-size: 10px;">rss</a> <a href="/tags/ruby/" style="font-size: 20px;">ruby</a> <a href="/tags/samsung/" style="font-size: 10px;">samsung</a> <a href="/tags/seo/" style="font-size: 10px;">seo</a> <a href="/tags/sftp/" style="font-size: 10px;">sftp</a> <a href="/tags/shibboleth/" style="font-size: 11.67px;">shibboleth</a> <a href="/tags/shortener/" style="font-size: 10px;">shortener</a> <a href="/tags/sitemap/" style="font-size: 10px;">sitemap</a> <a href="/tags/slider/" style="font-size: 10px;">slider</a> <a href="/tags/solr/" style="font-size: 11.67px;">solr</a> <a href="/tags/spreadsheet/" style="font-size: 10px;">spreadsheet</a> <a href="/tags/sqlite/" style="font-size: 10px;">sqlite</a> <a href="/tags/ssl/" style="font-size: 10px;">ssl</a> <a href="/tags/tutorials/" style="font-size: 10px;">tutorials</a> <a href="/tags/twrp/" style="font-size: 10px;">twrp</a> <a href="/tags/ubuntu/" style="font-size: 15px;">ubuntu</a> <a href="/tags/virtualbox/" style="font-size: 10px;">virtualbox</a> <a href="/tags/vultr/" style="font-size: 10px;">vultr</a> <a href="/tags/windows/" style="font-size: 11.67px;">windows</a> <a href="/tags/xslt/" style="font-size: 13.33px;">xslt</a>
        </div>
    </div>


            
        
    </div>
</aside>
                </div>
            </div>
        </div>
        <footer id="footer">
    <div class="container">
        <div class="container-inner">
            <a id="back-to-top" href="javascript:;"><i class="icon fa fa-angle-up"></i></a>
            <div class="credit">
                <p style="text-align: center;">Contact me: <a href="mailto:yuxifanr@gmail.com" rel="external nofollow noopener noreferrer" target="_blank">yuxifanr@gmail.com</a></p><br>
            </div>
        </div>
    </div>
</footer>

        
    
    <script>
    var disqus_shortname = 'yuxifan';
    
    
    var disqus_url = 'https://www.yuxifan.com/2017/07/07/implementing-shibboleth-in-rails/';
    
    (function() {
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
    </script>



    
        <script src="/js/lightgallery/js/lightgallery.min.js"></script>
        <script src="/js/lightgallery/js/lg-thumbnail.min.js"></script>
        <script src="/js/lightgallery/js/lg-pager.min.js"></script>
        <script src="/js/lightgallery/js/lg-autoplay.min.js"></script>
        <script src="/js/lightgallery/js/lg-fullscreen.min.js"></script>
        <script src="/js/lightgallery/js/lg-zoom.min.js"></script>
        <script src="/js/lightgallery/js/lg-hash.min.js"></script>
        <script src="/js/lightgallery/js/lg-share.min.js"></script>
        <script src="/js/lightgallery/js/lg-video.min.js"></script>
    



<!-- Custom Scripts -->
<script src="/js/main.js"></script>

    </div>
</body>

