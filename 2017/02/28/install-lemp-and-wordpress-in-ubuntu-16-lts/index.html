<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    
    <title>Install LEMP + Wordpress in Ubuntu 16.04 LTS step by step | Yuxi Fan</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
        <meta name="keywords" content="Linux,Wordpress,LEMP">
    
    <meta name="description" content="User and authenticationsCreate userLogin as root
12adduser --gecos &quot;&quot; yuxi   [OR YOUR_USER_NAME]gpasswd -a yuxi sudo
OR
1usermod -aG sudo yuxi
Get your public keys ready, e.g. running “ssh-keygen” in">
<meta property="og:type" content="article">
<meta property="og:title" content="Install LEMP + Wordpress in Ubuntu 16.04 LTS step by step">
<meta property="og:url" content="https://www.yuxifan.com/2017/02/28/install-lemp-and-wordpress-in-ubuntu-16-lts/index.html">
<meta property="og:site_name" content="Yuxi Fan">
<meta property="og:description" content="User and authenticationsCreate userLogin as root
12adduser --gecos &quot;&quot; yuxi   [OR YOUR_USER_NAME]gpasswd -a yuxi sudo
OR
1usermod -aG sudo yuxi
Get your public keys ready, e.g. running “ssh-keygen” in">
<meta property="og:image" content="https://www.yuxifan.com/images/linux/lemp-wordpress.jpg">
<meta property="og:updated_time" content="2017-07-25T09:04:58.025Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Install LEMP + Wordpress in Ubuntu 16.04 LTS step by step">
<meta name="twitter:description" content="User and authenticationsCreate userLogin as root
12adduser --gecos &quot;&quot; yuxi   [OR YOUR_USER_NAME]gpasswd -a yuxi sudo
OR
1usermod -aG sudo yuxi
Get your public keys ready, e.g. running “ssh-keygen” in">
<meta name="twitter:image" content="https://www.yuxifan.com/images/linux/lemp-wordpress.jpg">
    

    

    
        <link rel="alternate" href="/atom.xml" title="Yuxi Fan" type="application/atom+xml">
    

    

    
        <link rel="icon" href="/favicon.ico">
    

    <link rel="stylesheet" href="/js/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/js/titillium-web/styles.css">
    <link rel="stylesheet" href="/js/source-code-pro/styles.css">

    <link rel="stylesheet" href="/css/style.css">

    <script src="/js/jquery/2.0.3/jquery.min.js"></script>
    
    
        <link rel="stylesheet" href="/js/lightgallery/css/lightgallery.min.css">
    
    
        <script type="text/javascript">
(function(i,s,o,g,r,a,m) {i['GoogleAnalyticsObject']=r;i[r]=i[r]||function() {
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-67297895-9', 'auto');
ga('send', 'pageview');

</script>
    
    


</head>
</html>
<body>
    <div id="wrap">
        <header id="header">
    <div id="header-outer" class="outer">
        <div class="container">
            <div class="container-inner">
                <div id="header-title">
                    <h1 class="logo-wrap">
                        <a href="/" class="logo"></a>
                    </h1>
                    
                        <h2 class="subtitle-wrap">
                            <p class="subtitle">Yuxi Fan - Yuxi&#39;s development blog</p>
                        </h2>
                    
                </div>
                <div id="header-inner" class="nav-container">
                    <a id="main-nav-toggle" class="nav-icon fa fa-bars"></a>
                    <div class="nav-container-inner">
                        <ul id="main-nav">
                            
                                <li class="main-nav-list-item">
                                    <a class="main-nav-list-link" href="/">home</a>
                                </li>
                            
                                        <ul class="main-nav-list"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/css/">css</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/database/">database</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/git/">git</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/hexo/">hexo</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/java/">java</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/javascript/">javascript</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/jekyll/">jekyll</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/linux/">linux</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/mobile/">mobile</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/ruby/">ruby</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/solr/">solr</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/tool/">tool</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/windows/">windows</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/xslt/">xslt</a></li></ul>
                                    
                        </ul>
                        <nav id="sub-nav">
                            <div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="Search">
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="Type something...">
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'Posts',
            PAGES: 'Pages',
            CATEGORIES: 'Categories',
            TAGS: 'Tags',
            UNTITLED: '(Untitled)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>

</div>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>

        <div class="container">
            <div class="main-body container-inner">
                <div class="main-body-inner">
                    <section id="main">
                        <div class="main-body-header">

  
    <h1 class="header">
    
    <a class="page-title-link" href="/categories/linux/">linux</a>
    </h1>
  

</div>

                        <div class="main-body-content">
                            <article id="post-install-lemp-and-wordpress-in-ubuntu-16-lts" class="article article-single article-type-post" itemscope="" itemprop="blogPost">
    <div class="article-inner">
        
            <header class="article-header">
                
    
        <h1 class="article-title" itemprop="name">
        Install LEMP + Wordpress in Ubuntu 16.04 LTS step by step
        </h1>
    

            </header>
        
        
            <div class="article-subtitle">
                <a href="/2017/02/28/install-lemp-and-wordpress-in-ubuntu-16-lts/" class="article-date">
    <time datetime="2017-02-28T05:51:12.000Z" itemprop="datePublished">2017-02-28</time>
</a>
                
    <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/LEMP/">LEMP</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux/">Linux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Wordpress/">Wordpress</a></li></ul>

            </div>
        
        
        <div class="article-entry" itemprop="articleBody">

            

            <p><img src="/images/linux/lemp-wordpress.jpg" alt="Install LEMP + Wordpress in Ubuntu 16.04 LTS"></p>
<h2 id="User-and-authentications"><a href="#User-and-authentications" class="headerlink" title="User and authentications"></a>User and authentications</h2><h3 id="Create-user"><a href="#Create-user" class="headerlink" title="Create user"></a>Create user</h3><p>Login as root</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">adduser --gecos <span class="string">""</span> yuxi   [OR YOUR_USER_NAME]</div><div class="line">gpasswd -a yuxi sudo</div></pre></td></tr></table></figure>
<p>OR</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">usermod -aG sudo yuxi</div></pre></td></tr></table></figure>
<p>Get your public keys ready, e.g. running “ssh-keygen” in Linux machines which will be connecting to your WP server via SSH.</p>
<p>Login as the new user just being created, and type:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">mkdir ~/.ssh</div><div class="line">chmod 700 ~/.ssh</div><div class="line">touch ~/.ssh/authorized_keys</div><div class="line">chmod 600 ~/.ssh/authorized_keys</div></pre></td></tr></table></figure>
<p>Add your public keys to authorized_keys. It can be done manually or run the following command:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">cat &gt;&gt; ~/.ssh/authorized_keys &lt;&lt; EOF</div><div class="line">YOUR_PUBLIC_KEYS</div><div class="line">EOF</div></pre></td></tr></table></figure>
<p>Switch to root user and run:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">echo</span> <span class="string">'YOUR_USER_NAME ALL=(ALL) NOPASSWD: ALL'</span> &gt;&gt; /etc/sudoers</div></pre></td></tr></table></figure></p>
<p>System update:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">sudo apt-get -y update  </div><div class="line">sudo apt-get -y upgrade </div><div class="line">```bash</div><div class="line"></div><div class="line">Update user profile</div><div class="line">```bash</div><div class="line"><span class="built_in">echo</span> <span class="string">'export LS_COLORS=$(echo $LS_COLORS | sed "s/di=\(..\);../di=\1;32/") '</span> &gt;&gt; ~/.bashrc</div><div class="line"><span class="built_in">echo</span> <span class="string">"PS1='\\$ '"</span> &gt;&gt; ~/.bashrc</div></pre></td></tr></table></figure></p>
<h3 id="Authentications"><a href="#Authentications" class="headerlink" title="Authentications"></a>Authentications</h3><p>Run</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo nano /etc/ssh/sshd_config</div></pre></td></tr></table></figure>
<p>Then make the following changes:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">PasswordAuthentication no</div><div class="line">PubkeyAuthentication yes</div><div class="line">ChallengeResponseAuthentication no</div></pre></td></tr></table></figure>
<p>Also, change port from default ‘22’ to other number, e.g. 2244</p>
<p>Reload sshd service:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo systemctl reload sshd</div></pre></td></tr></table></figure>
<h3 id="Basic-firewall-settings"><a href="#Basic-firewall-settings" class="headerlink" title="Basic firewall settings"></a>Basic firewall settings</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">sudo ufw <span class="built_in">enable</span></div><div class="line">sudo ufw delete allow OpenSSH</div><div class="line">sudo ufw allow from any to any port 2224</div><div class="line">sudo ufw status</div></pre></td></tr></table></figure>
<h2 id="System"><a href="#System" class="headerlink" title="System"></a>System</h2><h3 id="Basic-libraries"><a href="#Basic-libraries" class="headerlink" title="Basic libraries"></a>Basic libraries</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">sudo apt-get install -qq -y curl </div><div class="line">sudo apt-get install -qq -y lynx-cur</div><div class="line">sudo apt-get install -qq -y git</div><div class="line">sudo apt-get install -qq -y whois</div><div class="line">sudo apt-get install -qq -y apache2-utils</div><div class="line">sudo apt-get install -qq -y unzip</div><div class="line">sudo -H -u root bash -c <span class="string">"echo 'Europe/London' &gt; /etc/timezone"</span> </div><div class="line">sudo dpkg-reconfigure -f noninteractive tzdata </div><div class="line">sudo apt-get install -qq -y ntp &gt; /dev/null 2&gt;err.log </div><div class="line"></div><div class="line">git config --global user.email <span class="string">"YOUR_EMAIL"</span></div><div class="line">git config --global user.name  <span class="string">"YOUR NAME"</span></div></pre></td></tr></table></figure>
<h3 id="Swap-space"><a href="#Swap-space" class="headerlink" title="Swap space"></a>Swap space</h3><p>You may want to create a swap space:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">sudo fallocate -l <span class="variable">$SWAP_SPACE_SIZE</span> /swapfile</div><div class="line">sudo chmod 600 /swapfile</div><div class="line">sudo mkswap /swapfile</div><div class="line">sudo swapon /swapfile</div><div class="line">sudo sh -c <span class="string">'echo "/swapfile none swap sw 0 0" &gt;&gt; /etc/fstab'</span></div></pre></td></tr></table></figure>
<h2 id="Nginx"><a href="#Nginx" class="headerlink" title="Nginx"></a>Nginx</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">sudo apt-get update</div><div class="line">sudo apt-get install nginx</div><div class="line">sudo ufw allow <span class="string">'Nginx HTTP'</span></div></pre></td></tr></table></figure>
<p>To find out the IP of VM, run:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ip addr show eth0 | grep inet | awk <span class="string">'&#123; print $2; &#125;'</span> | sed <span class="string">'s/\/.*$//'</span></div></pre></td></tr></table></figure>
<p>Change server_name in Nginx:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">nano /etc/nginx/sites-enabled/default</div></pre></td></tr></table></figure>
<h2 id="MySQL"><a href="#MySQL" class="headerlink" title="MySQL"></a>MySQL</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">sudo apt-get install mysql-server</div><div class="line">sudo mysql_secure_installation</div></pre></td></tr></table></figure>
<h2 id="PHP"><a href="#PHP" class="headerlink" title="PHP"></a>PHP</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo apt-get install -y php-fpm php-mysql</div></pre></td></tr></table></figure>
<p>Change PHP configuration:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo nano /etc/php/7.0/fpm/php.ini</div></pre></td></tr></table></figure></p>
<p>Change this:<br>cgi.fix_pathinfo=0</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo systemctl restart php7.0-fpm</div></pre></td></tr></table></figure>
<p>Change Nginx settings to support PHP:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">nano /etc/nginx/sites-available/default</div></pre></td></tr></table></figure>
<p>With content:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">server &#123;</div><div class="line">    listen 80 default_server;</div><div class="line">    listen [::]:80 default_server;</div><div class="line"></div><div class="line">    root /var/www/html;</div><div class="line">    index index.php index.html index.htm index.nginx-debian.html;</div><div class="line"></div><div class="line">    server_name server_domain_or_IP;</div><div class="line"></div><div class="line">    location / &#123;</div><div class="line">        try_files <span class="variable">$uri</span> <span class="variable">$uri</span>/ =404;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    location ~ \.php$ &#123;</div><div class="line">        include snippets/fastcgi-php.conf;</div><div class="line">        fastcgi_pass unix:/run/php/php7.0-fpm.sock;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    location ~ /\.ht &#123;</div><div class="line">        deny all;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="PHP-Extensions"><a href="#PHP-Extensions" class="headerlink" title="PHP Extensions"></a>PHP Extensions</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">sudo apt-get -y update </div><div class="line">sudo apt-get -y install php-curl php-gd php-mbstring php-mcrypt php-xml php-xmlrpc</div><div class="line">sudo systemctl restart php7.0-fpm</div></pre></td></tr></table></figure>
<h2 id="Wordpress"><a href="#Wordpress" class="headerlink" title="Wordpress"></a>Wordpress</h2><p>First, create database for wordpress:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">mysql -u root -p</div><div class="line">CREATE DATABASE wordpress DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci;</div><div class="line">GRANT ALL ON wordpress.* TO <span class="string">'wordpressuser'</span>@<span class="string">'localhost'</span> IDENTIFIED BY <span class="string">'password'</span>;</div><div class="line">FLUSH PRIVILEGES;</div><div class="line"><span class="built_in">exit</span></div></pre></td></tr></table></figure>
<p>Modify Nginx configuration:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">location = /favicon.ico &#123; log_not_found off; access_log off; &#125;</div><div class="line">location = /robots.txt &#123; log_not_found off; access_log off; allow all; &#125;</div><div class="line">location ~* \.(css|gif|ico|jpeg|jpg|js|png)$ &#123;</div><div class="line">  expires max;</div><div class="line">  log_not_found off;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>And:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">location / &#123;</div><div class="line">                try_files <span class="variable">$uri</span> <span class="variable">$uri</span>/ /index.php<span class="variable">$is_args</span><span class="variable">$args</span>;</div><div class="line">        &#125;</div></pre></td></tr></table></figure>
<p>Reload:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo systemctl reload nginx</div></pre></td></tr></table></figure>
<p>Install Wordpress</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">cd</span> /tmp</div><div class="line">curl -O https://wordpress.org/latest.tar.gz</div><div class="line">tar xvf latest.tar.gz</div><div class="line">cp /tmp/wordpress/wp-config-sample.php /tmp/wordpress/wp-config.php</div><div class="line">sudo cp -a /tmp/wordpress/. /var/www/html</div><div class="line">mkdir  /var/www/html/wp-content/uploads</div><div class="line">mkdir  /var/www/html/wp-content/upgrade</div></pre></td></tr></table></figure>
<p>Change permissions:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo chown -R yuxi:www-data /var/www/html</div></pre></td></tr></table></figure></p>
<p>Next, we will set the setgid bit on each of the directories within the document root. This causes new files created within these directories to inherit the group of the parent directory (which we just set to www-data) instead of the creating user’s primary group.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo find /var/www/html -<span class="built_in">type</span> d -<span class="built_in">exec</span> chmod g+s &#123;&#125; \;</div></pre></td></tr></table></figure></p>
<p>There are a few other fine-grained permissions we’ll adjust. First, we’ll give group write access to the wp-content directory so that the web interface can make theme and plugin changes:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo chmod g+w /var/www/html/wp-content</div></pre></td></tr></table></figure></p>
<p>As part of this process, we will give the web server write access to all of the content in these two directories:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">sudo chmod -R g+w /var/www/html/wp-content/themes</div><div class="line">sudo chmod -R g+w /var/www/html/wp-content/plugins</div></pre></td></tr></table></figure>
<p>When we open the file, our first order of business will be to adjust some secret keys to provide some security for our installation. WordPress provides a secure generator for these values so that you do not have to try to come up with good values on your own.</p>
<p>To grab secure values from the WordPress secret key generator, type:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">curl -s https://api.wordpress.org/secret-key/1.1/salt/</div></pre></td></tr></table></figure>
<p>Open /var/www/html/wp-config.php,  update these lines with the keys just being generated:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">define(<span class="string">'AUTH_KEY'</span>,         <span class="string">'put your unique phrase here'</span>);</div><div class="line">define(<span class="string">'SECURE_AUTH_KEY'</span>,  <span class="string">'put your unique phrase here'</span>);</div><div class="line">define(<span class="string">'LOGGED_IN_KEY'</span>,    <span class="string">'put your unique phrase here'</span>);</div><div class="line">define(<span class="string">'NONCE_KEY'</span>,        <span class="string">'put your unique phrase here'</span>);</div><div class="line">define(<span class="string">'AUTH_SALT'</span>,        <span class="string">'put your unique phrase here'</span>);</div><div class="line">define(<span class="string">'SECURE_AUTH_SALT'</span>, <span class="string">'put your unique phrase here'</span>);</div><div class="line">define(<span class="string">'LOGGED_IN_SALT'</span>,   <span class="string">'put your unique phrase here'</span>);</div><div class="line">define(<span class="string">'NONCE_SALT'</span>,       <span class="string">'put your unique phrase here'</span>);</div></pre></td></tr></table></figure></p>
<p>Config database: change the following lines in /var/www/html/wp-config.php:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">define(<span class="string">'DB_NAME'</span>, <span class="string">'wordpress'</span>);</div><div class="line">define(<span class="string">'DB_USER'</span>, <span class="string">'wordpressuser'</span>);</div><div class="line">define(<span class="string">'DB_PASSWORD'</span>, <span class="string">'password'</span>);</div></pre></td></tr></table></figure>
<p>The other change we need to make is to set the method that WordPress should use to write to the filesystem. Since we’ve given the web server permission to write where it needs to, we can explicitly set the filesystem method to “direct”. Failure to set this with our current settings would result in WordPress prompting for FTP credentials when we perform some actions.</p>
<p>Just after DB settings, add:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">define(<span class="string">'FS_METHOD'</span>, <span class="string">'direct'</span>);</div></pre></td></tr></table></figure></p>
<p>Complete the Installation via Web UI</p>
<h2 id="WP-tool"><a href="#WP-tool" class="headerlink" title="WP tool"></a>WP tool</h2><h3 id="wp-cli"><a href="#wp-cli" class="headerlink" title="wp-cli"></a>wp-cli</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">curl -O https://raw.githubusercontent.com/wp-cli/builds/gh-pages/phar/wp-cli.phar</div><div class="line">chmod +x wp-cli.phar </div><div class="line">sudo mv wp-cli.phar /usr/<span class="built_in">local</span>/bin/wp</div></pre></td></tr></table></figure>
<p>You can install WP if you haven’t done it via Web Admin UI:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">wp core install --url=http://ADDRESS --title=<span class="string">""</span> --admin_user= --admin_password= --admin_email=</div><div class="line"></div><div class="line">wp core language install zh_CN</div><div class="line">wp core language activate zh_CN</div><div class="line">wp option <span class="built_in">set</span> blog_public 1</div></pre></td></tr></table></figure></p>
<h3 id="WP-plugins"><a href="#WP-plugins" class="headerlink" title="WP plugins"></a>WP plugins</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">cd</span> /var/www/html</div><div class="line">wp plugin delete hello</div><div class="line"></div><div class="line">wp plugin install wordfence</div><div class="line">wp plugin activate wordfence</div><div class="line"></div><div class="line">wp plugin install wordpress-seo</div><div class="line">wp plugin activate wordpress-seo</div><div class="line"></div><div class="line">wp plugin install google-sitemap-generator</div><div class="line">wp plugin activate google-sitemap-generator</div><div class="line"></div><div class="line">wp plugin install <span class="built_in">disable</span>-google-fonts</div><div class="line">wp plugin activate <span class="built_in">disable</span>-google-fonts</div><div class="line"></div><div class="line">wp plugin install miniorange-2-factor-authentication</div><div class="line">wp plugin activate miniorange-2-factor-authentication</div><div class="line"></div><div class="line">wp plugin install nofollow-for-external-link</div><div class="line">wp plugin activate nofollow-for-external-link</div><div class="line"></div><div class="line">wp plugin install wp-super-cache</div><div class="line">wp plugin activate wp-super-cache</div><div class="line"></div><div class="line">wp plugin update --all</div></pre></td></tr></table></figure>
<p>Go to web admin UI to configure these plugins</p>
<h3 id="WP-themes"><a href="#WP-themes" class="headerlink" title="WP themes"></a>WP themes</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">wp theme delete twentyfifteen</div><div class="line">wp theme delete twentysixteen</div></pre></td></tr></table></figure>
<p>Install your own themes</p>
<h2 id="Backups"><a href="#Backups" class="headerlink" title="Backups"></a>Backups</h2><h3 id="Install-Amazon-command-line-tool"><a href="#Install-Amazon-command-line-tool" class="headerlink" title="Install Amazon command line tool"></a>Install Amazon command line tool</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">sudo apt-get install -qq -y python-pip</div><div class="line">sudo pip install --upgrade pip</div><div class="line">sudo pip install -U setuptools</div><div class="line">sudo pip -q install awscli</div><div class="line">sudo apt-get install -qq -y awscli</div><div class="line"></div><div class="line">mkdir ~/.aws</div><div class="line">nano ~/.aws/credentials</div></pre></td></tr></table></figure>
<p>Content of credentials:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">[default]</div><div class="line">aws_access_key_id = </div><div class="line">aws_secret_access_key =</div></pre></td></tr></table></figure>
<p>nano ~/.aws/config</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">[default]</div><div class="line">region = eu-central-1</div></pre></td></tr></table></figure>
<p>nano ~/scripts/syncbackups.sh</p>
<p>The content of syncbackups.sh is:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">DATE=`date +%Y%m%d`</div><div class="line"></div><div class="line"><span class="built_in">cd</span> /var/www/html</div><div class="line">wp db  <span class="built_in">export</span> ~/backups/db<span class="variable">$DATE</span>.sql</div><div class="line"><span class="built_in">cd</span> ~/backups</div><div class="line">aws s3 sync . s3://YOUR_S3_BUCKET/YOUR_DB_FOLDER_IN_S3</div><div class="line"><span class="built_in">cd</span> /var/www/html/wp-content/uploads</div><div class="line">aws s3 sync . s3://YOUR_S3_BUCKET/YOUR_UPLOAD_FOLDER_IN_S3 --delete</div></pre></td></tr></table></figure></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">chmod 700 ~/scripts/syncbackups.sh</div></pre></td></tr></table></figure>
<p>Run crontab -e to add a cron job </p>
<h2 id="Security-settings"><a href="#Security-settings" class="headerlink" title="Security settings"></a>Security settings</h2><h3 id="System-updates"><a href="#System-updates" class="headerlink" title="System updates"></a>System updates</h3><p>nano ~/scripts/systemupdats.sh</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">cd</span> /var/www/html</div><div class="line">wp plugin update --all</div><div class="line">wp core update</div></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">chmod 700 ~/scripts/systemupdats.sh</div></pre></td></tr></table></figure>
<p>You may want to add it into cron job list</p>
<h3 id="fails2ban"><a href="#fails2ban" class="headerlink" title="fails2ban"></a>fails2ban</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">sudo apt-get install -qq -y fail2ban</div><div class="line">sudo nano /etc/fail2ban/jail.local</div></pre></td></tr></table></figure>
<p>Content of jail.local</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">[DEFAULT]</div><div class="line">bantime = 3600</div><div class="line">ignoreip = 127.0.0.1/8 YOUR_IPs</div><div class="line"></div><div class="line">[nginx-http-auth]</div><div class="line">enabled = <span class="literal">true</span></div><div class="line">filter  = nginx-http-auth</div><div class="line">port    = http,https</div><div class="line">logpath = %(nginx_error_log)s</div><div class="line"></div><div class="line">[nginx-badbots]</div><div class="line">enabled  = <span class="literal">true</span></div><div class="line">port     = http,https</div><div class="line">filter   = nginx-badbots</div><div class="line">logpath  = /var/<span class="built_in">log</span>/nginx/access.log</div><div class="line">maxretry = 2</div><div class="line"></div><div class="line">[nginx-noproxy]</div><div class="line">enabled  = <span class="literal">true</span></div><div class="line">port     = http,https</div><div class="line">filter   = nginx-noproxy</div><div class="line">logpath  = /var/<span class="built_in">log</span>/nginx/access.log</div><div class="line">maxretry = 2</div></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo nano /etc/fail2ban/filter.d/nginx-http-auth.conf</div></pre></td></tr></table></figure>
<p>Update file with:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">failregex = ^ \[error\] \d+<span class="comment">#\d+: \*\d+ user "\S+":? (password mismatch|was not found in ".*"), client: &lt;HOST&gt;, server: \S+, request: "\S+ \S+ HTTP/\d+\.\d+", host: "\S+"\s*$</span></div><div class="line">                ^ \[error\] \d+<span class="comment">#\d+: \*\d+ no user/password was provided for basic authentication, client: &lt;HOST&gt;, server: \S+, request: "\S+ \S+ HTTP/\d+\.\d+", host: "\S+"\s*$</span></div></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">sudo cp /etc/fail2ban/filter.d/apache-badbots.conf /etc/fail2ban/filter.d/nginx-badbots.conf</div><div class="line"><span class="built_in">cd</span> /etc/fail2ban/filter.d</div><div class="line">sudo nano nginx-nohome.conf</div></pre></td></tr></table></figure>
<p>Content of nginx-nohome.conf</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">[Definition]</div><div class="line"></div><div class="line">failregex = ^&lt;HOST&gt; -.*GET .*/~.*</div><div class="line"></div><div class="line">ignoreregex =</div></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo nano nginx-noproxy.conf</div></pre></td></tr></table></figure>
<p>Content:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">[Definition]</div><div class="line"></div><div class="line">failregex = ^&lt;HOST&gt; -.*GET http.*</div><div class="line"></div><div class="line">ignoreregex =</div></pre></td></tr></table></figure></p>
<p>Run:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo service fail2ban restart</div></pre></td></tr></table></figure></p>
<h3 id="Protect-WP-pages-with-basic-auth"><a href="#Protect-WP-pages-with-basic-auth" class="headerlink" title="Protect WP pages with basic auth"></a>Protect WP pages with basic auth</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">sudo apt-get update</div><div class="line">sudo apt-get install apache2-utils</div><div class="line"></div><div class="line">sudo htpasswd -c /etc/nginx/.htpasswd sammy</div><div class="line">sudo htpasswd /etc/nginx/.htpasswd another_user</div><div class="line">cat /etc/nginx/.htpasswd</div></pre></td></tr></table></figure>
<p>sudo nano /etc/nginx/sites-enabled/default</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">location /wp-admin &#123;</div><div class="line">      auth_basic <span class="string">"Restricted"</span>;</div><div class="line">      auth_basic_user_file /etc/nginx/.htpasswd;</div><div class="line">&#125;</div><div class="line"></div><div class="line">location /wp-admin/admin-ajax.php &#123;</div><div class="line">     allow all;</div><div class="line">&#125;</div><div class="line"></div><div class="line">location = /wp-login.php &#123;</div><div class="line">    auth_basic <span class="string">"Restricted"</span>;</div><div class="line">    auth_basic_user_file /etc/nginx/.htpasswd;</div><div class="line">    include fastcgi_params;</div><div class="line">    fastcgi_pass unix:/run/php/php7.0-fpm.sock;</div><div class="line">    fastcgi_param SCRIPT_FILENAME <span class="variable">$document_root</span><span class="variable">$fastcgi_script_name</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Disable xml-rpc.php by using plugin:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">wp plugin install <span class="built_in">disable</span>-xml-rpc</div><div class="line">wp plugin activate <span class="built_in">disable</span>-xml-rpc</div><div class="line">sudo service nginx restart</div></pre></td></tr></table></figure>
<h3 id="Disable-ping-responses"><a href="#Disable-ping-responses" class="headerlink" title="Disable ping responses"></a>Disable ping responses</h3><p>To temporarily disable ping, under root run:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">echo</span> 1 &gt; /proc/sys/net/ipv4/icmp_echo_ignore_all</div></pre></td></tr></table></figure>
<p>To permanently disable ping:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo nano /etc/sysctl.conf</div></pre></td></tr></table></figure>
<p>Then add: </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">net.ipv4.icmp_echo_ignore_all = 1</div></pre></td></tr></table></figure>


            
              <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

              <!-- autosize -->
              <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-9869806761757481" data-ad-slot="8827673952" data-ad-format="auto"></ins>

              <script>
                  (adsbygoogle = window.adsbygoogle || []).push({});
              </script>
            

        </div>
        <footer class="article-footer">
            



    <a data-url="https://www.yuxifan.com/2017/02/28/install-lemp-and-wordpress-in-ubuntu-16-lts/" data-id="cj3zpr7he0031jyxupqpymu7h" class="article-share-link"><i class="fa fa-share"></i>Share</a>
<script>
    (function ($) {
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

        </footer>
    </div>
</article>

    <section id="comments">
    
        
    <div id="disqus_thread">
        <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>

    
    </section>


                        </div>
                    </section>
                    <aside id="sidebar">
    <a class="sidebar-toggle" title="Expand Sidebar"><i class="toggle icon"></i></a>
    <div class="sidebar-top">
        <p>follow:</p>
        <ul class="social-links">
            
                
                <li>
                    <a class="social-tooltip" title="google-plus" href="https://plus.google.com/104826207350368986265" target="_blank" rel="external nofollow noopener noreferrer">
                        <i class="icon fa fa-google-plus"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="rss" href="/atom.xml" target="_blank">
                        <i class="icon fa fa-rss"></i>
                    </a>
                </li>
                
            
        </ul>
    </div>
    
    <div class="widgets-container">
        
            
                <div class="widget-wrap widget-list">
    <div class="widget">
      <a href="https://www.vultr.com/?ref=6856003" target="_blank" rel="external nofollow noopener noreferrer">
        <img src="/images/ads/vultr2_300x250.png">
      </a>
    </div>
</div>


            
                
    <div class="widget-wrap">
        <h3 class="widget-title">recents</h3>
        <div class="widget">
            <ul id="recent-post" class="">
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2017/09/27/how-to-use-imagemagick-in-ruby/" class="thumbnail">
    
    
        <span style="background-image:url(/images/linuximagemagick.jpg)" alt="How to use imagemagick in Ruby" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/ruby/">ruby</a></p>
                            <p class="item-title"><a href="/2017/09/27/how-to-use-imagemagick-in-ruby/" class="title">How to use imagemagick in Ruby</a></p>
                            <p class="item-date"><time datetime="2017-09-27T01:10:12.000Z" itemprop="datePublished">2017-09-27</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2017/09/26/check-mail-domain/" class="thumbnail">
    
    
        <span style="background-image:url(/images/linux/google.jpg)" alt="How to check if an email address is managed by google" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/linux/">linux</a></p>
                            <p class="item-title"><a href="/2017/09/26/check-mail-domain/" class="title">How to check if an email address is managed by google</a></p>
                            <p class="item-date"><time datetime="2017-09-26T01:10:12.000Z" itemprop="datePublished">2017-09-26</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2017/09/07/paste-image-by-using-html5-clipboard-api/" class="thumbnail">
    
    
        <span style="background-image:url(/images/javascript/clipboard-api.jpg)" alt="How to use HTML5 clipboard API to paste image in HTML" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/javascript/">javascript</a></p>
                            <p class="item-title"><a href="/2017/09/07/paste-image-by-using-html5-clipboard-api/" class="title">How to use HTML5 clipboard API to paste image in HTML</a></p>
                            <p class="item-date"><time datetime="2017-09-07T01:10:12.000Z" itemprop="datePublished">2017-09-07</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2017/09/05/run-temporary-http-server/" class="thumbnail">
    
    
        <span style="background-image:url(/images/linux/web-server.jpg)" alt="How to run a temporary http server without installing Nginx / Apache in Ubuntu" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/linux/">linux</a></p>
                            <p class="item-title"><a href="/2017/09/05/run-temporary-http-server/" class="title">How to run a temporary http server without installing Nginx / Apache in Ubuntu</a></p>
                            <p class="item-date"><time datetime="2017-09-05T01:10:12.000Z" itemprop="datePublished">2017-09-05</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2017/07/28/setup-python-steem-development-environment/" class="thumbnail">
    
    
        <span style="background-image:url(/images/linux/steem/python-steem.png)" alt="Setup python development environment for Steem on Ubuntu 16" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/linux/">linux</a></p>
                            <p class="item-title"><a href="/2017/07/28/setup-python-steem-development-environment/" class="title">Setup python development environment for Steem on Ubuntu 16</a></p>
                            <p class="item-date"><time datetime="2017-07-28T04:51:12.000Z" itemprop="datePublished">2017-07-28</time></p>
                        </div>
                    </li>
                
            </ul>
        </div>
    </div>

            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">categories</h3>
        <div class="widget">
            <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/css/">css</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/">database</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/git/">git</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/hexo/">hexo</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/">java</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/javascript/">javascript</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/jekyll/">jekyll</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/">linux</a><span class="category-list-count">18</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/mobile/">mobile</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/ruby/">ruby</a><span class="category-list-count">25</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/solr/">solr</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/tool/">tool</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/windows/">windows</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/xslt/">xslt</a><span class="category-list-count">2</span></li></ul>
        </div>
    </div>


            
                <div class="widget-wrap widget-list">
    <div class="widget">
      <a href="https://m.do.co/c/65b73b833dd9" target="_blank" rel="external nofollow noopener noreferrer">
        <img src="/images/ads/digital-ocean-promo.gif">
      </a>
    </div>
</div>


            
                
    <div class="widget-wrap widget-float">
        <h3 class="widget-title">tag cloud</h3>
        <div class="widget tagcloud">
            <a href="/tags/Apache/" style="font-size: 10px;">Apache</a> <a href="/tags/Chinese-converter/" style="font-size: 10px;">Chinese converter</a> <a href="/tags/GraphicsMagick/" style="font-size: 10px;">GraphicsMagick</a> <a href="/tags/ImageMagick/" style="font-size: 10px;">ImageMagick</a> <a href="/tags/JSTL/" style="font-size: 11.67px;">JSTL</a> <a href="/tags/LEMP/" style="font-size: 10px;">LEMP</a> <a href="/tags/Linux/" style="font-size: 13.33px;">Linux</a> <a href="/tags/Nginx/" style="font-size: 10px;">Nginx</a> <a href="/tags/Phusion-Passenger/" style="font-size: 10px;">Phusion Passenger</a> <a href="/tags/Python/" style="font-size: 10px;">Python</a> <a href="/tags/QR-code/" style="font-size: 10px;">QR code</a> <a href="/tags/Rails/" style="font-size: 10px;">Rails</a> <a href="/tags/Ruby/" style="font-size: 11.67px;">Ruby</a> <a href="/tags/Steem/" style="font-size: 11.67px;">Steem</a> <a href="/tags/Tomcat/" style="font-size: 10px;">Tomcat</a> <a href="/tags/URL-redirects/" style="font-size: 10px;">URL redirects</a> <a href="/tags/Ubuntu/" style="font-size: 11.67px;">Ubuntu</a> <a href="/tags/VM/" style="font-size: 10px;">VM</a> <a href="/tags/Wordpress/" style="font-size: 10px;">Wordpress</a> <a href="/tags/activemq/" style="font-size: 10px;">activemq</a> <a href="/tags/ads/" style="font-size: 10px;">ads</a> <a href="/tags/apt/" style="font-size: 10px;">apt</a> <a href="/tags/clipboard-API/" style="font-size: 10px;">clipboard API</a> <a href="/tags/css/" style="font-size: 10px;">css</a> <a href="/tags/cyanogenmod/" style="font-size: 10px;">cyanogenmod</a> <a href="/tags/disqus/" style="font-size: 10px;">disqus</a> <a href="/tags/dropbox/" style="font-size: 11.67px;">dropbox</a> <a href="/tags/excel/" style="font-size: 10px;">excel</a> <a href="/tags/faceting/" style="font-size: 10px;">faceting</a> <a href="/tags/faraday/" style="font-size: 10px;">faraday</a> <a href="/tags/feed/" style="font-size: 10px;">feed</a> <a href="/tags/fontawesome/" style="font-size: 10px;">fontawesome</a> <a href="/tags/gapps/" style="font-size: 10px;">gapps</a> <a href="/tags/gem/" style="font-size: 13.33px;">gem</a> <a href="/tags/git/" style="font-size: 11.67px;">git</a> <a href="/tags/gmail/" style="font-size: 13.33px;">gmail</a> <a href="/tags/google/" style="font-size: 10px;">google</a> <a href="/tags/hexo/" style="font-size: 13.33px;">hexo</a> <a href="/tags/html/" style="font-size: 10px;">html</a> <a href="/tags/html5/" style="font-size: 10px;">html5</a> <a href="/tags/http-server/" style="font-size: 10px;">http server</a> <a href="/tags/hyperlink/" style="font-size: 10px;">hyperlink</a> <a href="/tags/image/" style="font-size: 11.67px;">image</a> <a href="/tags/imagemagick/" style="font-size: 11.67px;">imagemagick</a> <a href="/tags/incron/" style="font-size: 10px;">incron</a> <a href="/tags/java/" style="font-size: 16.67px;">java</a> <a href="/tags/javascript/" style="font-size: 11.67px;">javascript</a> <a href="/tags/jekyll/" style="font-size: 10px;">jekyll</a> <a href="/tags/json/" style="font-size: 10px;">json</a> <a href="/tags/linux/" style="font-size: 18.33px;">linux</a> <a href="/tags/mailgun/" style="font-size: 10px;">mailgun</a> <a href="/tags/minify/" style="font-size: 11.67px;">minify</a> <a href="/tags/nofollow/" style="font-size: 10px;">nofollow</a> <a href="/tags/nokogiri/" style="font-size: 11.67px;">nokogiri</a> <a href="/tags/notepad/" style="font-size: 11.67px;">notepad++</a> <a href="/tags/odin/" style="font-size: 10px;">odin</a> <a href="/tags/passenger/" style="font-size: 10px;">passenger</a> <a href="/tags/plugin/" style="font-size: 10px;">plugin</a> <a href="/tags/proxy-server/" style="font-size: 10px;">proxy server</a> <a href="/tags/python/" style="font-size: 10px;">python</a> <a href="/tags/qr/" style="font-size: 10px;">qr</a> <a href="/tags/rails/" style="font-size: 11.67px;">rails</a> <a href="/tags/rbenv/" style="font-size: 10px;">rbenv</a> <a href="/tags/redis/" style="font-size: 11.67px;">redis</a> <a href="/tags/rss/" style="font-size: 10px;">rss</a> <a href="/tags/ruby/" style="font-size: 20px;">ruby</a> <a href="/tags/samsung/" style="font-size: 10px;">samsung</a> <a href="/tags/seo/" style="font-size: 10px;">seo</a> <a href="/tags/sftp/" style="font-size: 10px;">sftp</a> <a href="/tags/shibboleth/" style="font-size: 11.67px;">shibboleth</a> <a href="/tags/shortener/" style="font-size: 10px;">shortener</a> <a href="/tags/sitemap/" style="font-size: 10px;">sitemap</a> <a href="/tags/slider/" style="font-size: 10px;">slider</a> <a href="/tags/solr/" style="font-size: 11.67px;">solr</a> <a href="/tags/spreadsheet/" style="font-size: 10px;">spreadsheet</a> <a href="/tags/sqlite/" style="font-size: 10px;">sqlite</a> <a href="/tags/ssl/" style="font-size: 10px;">ssl</a> <a href="/tags/tutorials/" style="font-size: 10px;">tutorials</a> <a href="/tags/twrp/" style="font-size: 10px;">twrp</a> <a href="/tags/ubuntu/" style="font-size: 15px;">ubuntu</a> <a href="/tags/virtualbox/" style="font-size: 10px;">virtualbox</a> <a href="/tags/vultr/" style="font-size: 10px;">vultr</a> <a href="/tags/windows/" style="font-size: 11.67px;">windows</a> <a href="/tags/xslt/" style="font-size: 13.33px;">xslt</a>
        </div>
    </div>


            
        
    </div>
</aside>
                </div>
            </div>
        </div>
        <footer id="footer">
    <div class="container">
        <div class="container-inner">
            <a id="back-to-top" href="javascript:;"><i class="icon fa fa-angle-up"></i></a>
            <div class="credit">
                <p style="text-align: center;">Contact me: <a href="mailto:yuxifanr@gmail.com" rel="external nofollow noopener noreferrer" target="_blank">yuxifanr@gmail.com</a></p><br>
            </div>
        </div>
    </div>
</footer>

        
    
    <script>
    var disqus_shortname = 'yuxifan';
    
    
    var disqus_url = 'https://www.yuxifan.com/2017/02/28/install-lemp-and-wordpress-in-ubuntu-16-lts/';
    
    (function() {
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
    </script>



    
        <script src="/js/lightgallery/js/lightgallery.min.js"></script>
        <script src="/js/lightgallery/js/lg-thumbnail.min.js"></script>
        <script src="/js/lightgallery/js/lg-pager.min.js"></script>
        <script src="/js/lightgallery/js/lg-autoplay.min.js"></script>
        <script src="/js/lightgallery/js/lg-fullscreen.min.js"></script>
        <script src="/js/lightgallery/js/lg-zoom.min.js"></script>
        <script src="/js/lightgallery/js/lg-hash.min.js"></script>
        <script src="/js/lightgallery/js/lg-share.min.js"></script>
        <script src="/js/lightgallery/js/lg-video.min.js"></script>
    



<!-- Custom Scripts -->
<script src="/js/main.js"></script>

    </div>
</body>

