<!DOCTYPE html><html><head><meta charset=utf-8><title>How to implement hierarchical facets | Yuxi Fan</title><meta name=viewport content="width=device-width, initial-scale=1, maximum-scale=1"><meta name=keywords content=JSTL,solr><meta name=description content="0. EnvironmentsUbuntu 14.x
Open JDK 7.x
Solr 3.6.x
Apache Tomcat 7.x
1. The problemThe solr documentation summaries approaches to implement hierarchical facets in: http://wiki.apache.org/solr/Hierarc"><meta property=og:type content=article><meta property=og:title content="How to implement hierarchical facets"><meta property=og:url content=https://www.yuxifan.com/2016/09/06/2016-09-06-how-to-implement-hierarchical-faces/index.html><meta property=og:site_name content="Yuxi Fan"><meta property=og:description content="0. EnvironmentsUbuntu 14.x
Open JDK 7.x
Solr 3.6.x
Apache Tomcat 7.x
1. The problemThe solr documentation summaries approaches to implement hierarchical facets in: http://wiki.apache.org/solr/Hierarc"><meta property=og:image content=https://www.yuxifan.com/images/solr/solr.png><meta property=og:updated_time content=2016-10-04T21:14:38.000Z><meta name=twitter:card content=summary><meta name=twitter:title content="How to implement hierarchical facets"><meta name=twitter:description content="0. EnvironmentsUbuntu 14.x
Open JDK 7.x
Solr 3.6.x
Apache Tomcat 7.x
1. The problemThe solr documentation summaries approaches to implement hierarchical facets in: http://wiki.apache.org/solr/Hierarc"><meta name=twitter:image content=https://www.yuxifan.com/images/solr/solr.png><link rel=alternate href=/atom.xml title="Yuxi Fan" type=application/atom+xml><link rel=icon href=/favicon.ico><link rel=stylesheet href=/vendor/font-awesome/css/font-awesome.min.css><link rel=stylesheet href=/vendor/titillium-web/styles.css><link rel=stylesheet href=/vendor/source-code-pro/styles.css><link rel=stylesheet href=/css/style.css><script src=/vendor/jquery/2.0.3/jquery.min.js></script><link rel=stylesheet href=/vendor/lightgallery/css/lightgallery.min.css><script type=text/javascript>(function(i,s,o,g,r,a,m) {i['GoogleAnalyticsObject']=r;i[r]=i[r]||function() {
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-67297895-9', 'auto');
ga('send', 'pageview');</script><body><div id=wrap><header id=header><div id=header-outer class=outer><div class=container><div class=container-inner><div id=header-title><h1 class=logo-wrap><a href="/" class=logo></a></h1><h2 class=subtitle-wrap><p class=subtitle>Yuxi Fan - Yuxi&#39;s development blog</p></h2></div><div id=header-inner class=nav-container><a id=main-nav-toggle class="nav-icon fa fa-bars"></a><div class=nav-container-inner><ul id=main-nav><li class=main-nav-list-item><a class=main-nav-list-link href="/">home</a></li><ul class=main-nav-list><li class=main-nav-list-item><a class=main-nav-list-link href="/categories/css/">css</a></li><li class=main-nav-list-item><a class=main-nav-list-link href="/categories/git/">git</a></li><li class=main-nav-list-item><a class=main-nav-list-link href="/categories/hexo/">hexo</a></li><li class=main-nav-list-item><a class=main-nav-list-link href="/categories/java/">java</a></li><li class=main-nav-list-item><a class=main-nav-list-link href="/categories/javascript/">javascript</a></li><li class=main-nav-list-item><a class=main-nav-list-link href="/categories/jekyll/">jekyll</a></li><li class=main-nav-list-item><a class=main-nav-list-link href="/categories/linux/">linux</a></li><li class=main-nav-list-item><a class=main-nav-list-link href="/categories/ruby/">ruby</a></li><li class=main-nav-list-item><a class=main-nav-list-link href="/categories/solr/">solr</a></li><li class=main-nav-list-item><a class=main-nav-list-link href="/categories/windows/">windows</a></li><li class=main-nav-list-item><a class=main-nav-list-link href="/categories/xslt/">xslt</a></li></ul></ul><nav id=sub-nav><div id=search-form-wrap><form class=search-form><input class="ins-search-input search-form-input" placeholder=Search><button type=submit class=search-form-submit></button></form><div class=ins-search><div class=ins-search-mask></div><div class=ins-search-container><div class=ins-input-wrapper><input class=ins-search-input placeholder="Type something..."><span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span></div><div class=ins-section-wrapper><div class=ins-section-container></div></div></div></div><script>(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'Posts',
            PAGES: 'Pages',
            CATEGORIES: 'Categories',
            TAGS: 'Tags',
            UNTITLED: '(Untitled)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);</script><script src=/js/insight.js></script></div></nav></div></div></div></div></div></header><div class=container><div class="main-body container-inner"><div class=main-body-inner><section id=main><div class=main-body-header><h1 class=header><a class=page-title-link href="/categories/solr/">solr</a></h1></div><div class=main-body-content><article id=post-2016-09-06-how-to-implement-hierarchical-faces class="article article-single article-type-post" itemscope itemprop=blogPost><div class=article-inner><header class=article-header><h1 class=article-title itemprop=name>How to implement hierarchical facets</h1></header><div class=article-subtitle><a href="/2016/09/06/2016-09-06-how-to-implement-hierarchical-faces/" class=article-date><time datetime=2016-09-06T08:51:12.000Z itemprop=datePublished>2016-09-06</time></a><ul class=article-tag-list><li class=article-tag-list-item><a class=article-tag-list-link href="/tags/JSTL/">JSTL</a></li><li class=article-tag-list-item><a class=article-tag-list-link href="/tags/solr/">solr</a></li></ul></div><div class=article-entry itemprop=articleBody><p><img src=/images/solr/solr.png alt=""></p><h2 id=0-Environments><a href=#0-Environments class=headerlink title="0. Environments"></a>0. Environments</h2><p>Ubuntu 14.x</p><p>Open JDK 7.x</p><p>Solr 3.6.x</p><p>Apache Tomcat 7.x</p><h2 id=1-The-problem><a href=#1-The-problem class=headerlink title="1. The problem"></a>1. The problem</h2><p>The solr documentation summaries approaches to implement hierarchical facets in: <a href=[http://wiki.apache.org/solr/HierarchicalFaceting#Approaches_to_Hierarchical_Facets_in_Solr>http://wiki.apache.org/solr/HierarchicalFaceting#Approaches_to_Hierarchical_Facets_in_Solr</a> in different ways:</p><h3 id=1-Use-a-prefix-before-the-data-to-store-hierarchy-information-e-g><a href=#1-Use-a-prefix-before-the-data-to-store-hierarchy-information-e-g class=headerlink title="1) Use a prefix before the data to store hierarchy information, e.g."></a>1) Use a prefix before the data to store hierarchy information, e.g.</h3><figure class="highlight plain"><table><tr><td class=gutter><pre><div class=line>1</div><div class=line>2</div><div class=line>3</div></pre><td class=code><pre><div class=line>Doc#1: 0/Fruit, 1/Apple, 2/Red</div><div class=line>Doc#2: 0/Fruit, 1/Pear</div><div class=line>Doc#3: 0/Fruit, 1/Apple, 2/Yellow</div></pre></table></figure><p>OR (even worse)</p><figure class="highlight plain"><table><tr><td class=gutter><pre><div class=line>1</div><div class=line>2</div><div class=line>3</div></pre><td class=code><pre><div class=line>Doc#1: 0/Fruit, 1/Fruit/Apple, 2/Fruit/Apple/Red</div><div class=line>Doc#2: 0/Fruit, 1/Fruit/Pear</div><div class=line>Doc#3: 0/Fruit, 1/Fruit/Apple, 2/Fruit/Apple/Yellow</div></pre></table></figure><p>The problem of this approach is that we have to store extra data into solr and the hierarchy information is duplicated across solr.</p><h3 id=2-“breadcrumbs”><a href=#2-“breadcrumbs” class=headerlink title="2) “breadcrumbs”"></a>2) “breadcrumbs”</h3><figure class="highlight plain"><table><tr><td class=gutter><pre><div class=line>1</div><div class=line>2</div><div class=line>3</div></pre><td class=code><pre><div class=line>Doc#1: Fruit &gt; Apple &gt; Red</div><div class=line>Doc#2: Fruit &gt; Pear</div><div class=line>Doc#3: Fruit &gt; Apple &gt; Yellow</div></pre></table></figure><p>The above 2 suggested solutions all contain duplicated data, which is really bad. Actually, the hierarchy information should be stored separately to avoid duplication.</p><h2 id=2-The-solution><a href=#2-The-solution class=headerlink title="2. The solution"></a>2. The solution</h2><h3 id=1-Store-hierarchy-information-into-an-XML-e-g-a-data-dictionary><a href=#1-Store-hierarchy-information-into-an-XML-e-g-a-data-dictionary class=headerlink title="1) Store hierarchy information into an XML, e.g. a data dictionary:"></a>1) Store hierarchy information into an XML, e.g. a data dictionary:</h3><figure class="highlight xml"><table><tr><td class=gutter><pre><div class=line>1</div><div class=line>2</div><div class=line>3</div><div class=line>4</div><div class=line>5</div><div class=line>6</div><div class=line>7</div><div class=line>8</div><div class=line>9</div></pre><td class=code><pre><div class=line><span class=tag>&lt;<span class=name>fruits</span>&gt;</span></div><div class=line>  <span class=tag>&lt;<span class=name>apple</span>&gt;</span></div><div class=line>    <span class=tag>&lt;<span class=name>red</span>/&gt;</span></div><div class=line>    <span class=tag>&lt;<span class=name>yellow</span>/&gt;</span></div><div class=line>  <span class=tag>&lt;/<span class=name>apple</span>&gt;</span></div><div class=line>  <span class=tag>&lt;<span class=name>pear</span>&gt;</span></div><div class=line>  <span class=tag>&lt;/<span class=name>pear</span>&gt;</span></div><div class=line>  ......</div><div class=line><span class=tag>&lt;<span class=name>fruits</span>&gt;</span></div></pre></table></figure><h3 id=2-Aggregate-the-hierarchy-information-with-the-actual-solr-data-while-retrieving-data-e-g><a href=#2-Aggregate-the-hierarchy-information-with-the-actual-solr-data-while-retrieving-data-e-g class=headerlink title="2) Aggregate the hierarchy information with the actual solr data while retrieving data, e.g."></a>2) Aggregate the hierarchy information with the actual solr data while retrieving data, e.g.</h3><figure class="highlight plain"><table><tr><td class=gutter><pre><div class=line>1</div><div class=line>2</div><div class=line>3</div><div class=line>4</div><div class=line>5</div><div class=line>6</div></pre><td class=code><pre><div class=line>ITERATE ALL FACETS</div><div class=line>    GET DATA DICTIONARY FOR CURRENT FACET</div><div class=line>    ITERATE FACET ITEMS in CURRENT FACET</div><div class=line>      AGGREGATE DD WITH FACET ITEMS AND SAVE TO A HIERARCHICAL LIST</div><div class=line>    END</div><div class=line>END</div></pre></table></figure><h3 id=3-In-the-client-code-based-on-the-hierarchical-list-constructing-HTML-elements-e-g-in-JSP><a href=#3-In-the-client-code-based-on-the-hierarchical-list-constructing-HTML-elements-e-g-in-JSP class=headerlink title="3) In the client code, based on the hierarchical list, constructing HTML elements, e.g, in JSP."></a>3) In the client code, based on the hierarchical list, constructing HTML elements, e.g, in JSP.</h3><figure class=highlight><table><tr><td class=gutter><pre><div class=line>1</div><div class=line>2</div><div class=line>3</div><div class=line>4</div><div class=line>5</div><div class=line>6</div><div class=line>7</div><div class=line>8</div><div class=line>9</div><div class=line>10</div><div class=line>11</div><div class=line>12</div><div class=line>13</div><div class=line>14</div><div class=line>15</div><div class=line>16</div><div class=line>17</div><div class=line>18</div><div class=line>19</div></pre><td class=code><pre><div class=line>&lt;c:forEach items="$&#123;availableFacets&#125;" var="fc"&gt;</div><div class=line></div><div class=line>  &lt;ul class="XXXX"&gt;</div><div class=line>     &lt;c:forEach items="$&#123;fc.iterator&#125;" var="facetElement"&gt;</div><div class=line>        &lt;li class="expanded"&gt;</div><div class=line>          &lt;c:out value="$&#123;facetElement.label&#125;"&gt;&lt;/c:out&gt;[&lt;c:out value="$&#123;facetElement.count&#125;" /&gt;]&lt;/a&gt;</div><div class=line>        &lt;/li&gt;</div><div class=line>        &lt;!-- Second level --&gt;</div><div class=line>        &lt;ul&gt;</div><div class=line>           &lt;c:forEach items="$&#123;facetElement.iterator&#125;" var="secondLevelFacetElement"&gt;</div><div class=line>              &lt;li class="expanded"&gt;</div><div class=line>                 &lt;c:out value="$&#123;secondLevelFacetElement.label&#125;"&gt;&lt;/c:out&gt;[&lt;c:out value="$&#123;secondLevelFacetElement.count&#125;" /&gt;]&lt;/a&gt;</div><div class=line>              &lt;/li&gt;</div><div class=line>              &lt;!-- deeper levels --&gt;</div><div class=line>           &lt;/c:forEach&gt;</div><div class=line>        &lt;/ul&gt;</div><div class=line>     &lt;/c:forEach&gt;</div><div class=line>  &lt;/ul&gt;</div><div class=line>&lt;/c:forEach&gt;</div></pre></table></figure><h3 id=4-Based-on-the-ul-li-tags-render-the-hierarchical-facets-in-Javascript-e-g-using-jsTree-https-www-jstree-com><a href=#4-Based-on-the-ul-li-tags-render-the-hierarchical-facets-in-Javascript-e-g-using-jsTree-https-www-jstree-com class=headerlink title="4) Based on the ul / li tags, render the hierarchical facets in Javascript, e.g. using jsTree (https://www.jstree.com/)"></a>4) Based on the ul / li tags, render the hierarchical facets in Javascript, e.g. using jsTree (<a href="https://www.jstree.com/" rel="external nofollow" target=_blank>https://www.jstree.com/</a>)</h3></div><footer class=article-footer><a data-url="https://www.yuxifan.com/2016/09/06/2016-09-06-how-to-implement-hierarchical-faces/" data-id=civ407ip7002w3tg66c06fw27 class=article-share-link><i class="fa fa-share"></i>Share</a><script>(function ($) {
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);</script></footer></div></article><section id=comments><div id=disqus_thread><noscript>Please enable JavaScript to view the <a href=//disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript></div></section></div></section><aside id=sidebar><a class=sidebar-toggle title="Expand Sidebar"><i class="toggle icon"></i></a><div class=sidebar-top><p>follow:</p><ul class=social-links><li><a class=social-tooltip title=google-plus href=https://plus.google.com/104826207350368986265 target=_blank rel="external nofollow"><i class="icon fa fa-google-plus"></i></a></li><li><a class=social-tooltip title=rss href=/atom.xml target=_blank><i class="icon fa fa-rss"></i></a></li></ul></div><nav id=article-nav><a href="/2016/09/10/implement-a-slider-in-hexo/" id=article-nav-newer class=article-nav-link-wrap><strong class=article-nav-caption>newer</strong><p class=article-nav-title>Implement a slider in Hexo</p><i class="icon fa fa-chevron-right" id=icon-chevron-right></i></a> <a href="/2016/09/05/top-hexo-plugins/" id=article-nav-older class=article-nav-link-wrap><strong class=article-nav-caption>older</strong><p class=article-nav-title>Top Hexo plugins recommended</p><i class="icon fa fa-chevron-left" id=icon-chevron-left></i></a></nav><div class=widgets-container><div class="widget-wrap widget-list"><div class=widget><a href="https://www.vultr.com/?ref=6856003" target=_blank rel="external nofollow"><img src=/images/ads/vultr2_300x250.png></a></div></div><div class=widget-wrap><h3 class=widget-title>recents</h3><div class=widget><ul id=recent-post><li><div class=item-thumbnail><a href="/2016/11/04/multi-phases-xslt-processing/" class=thumbnail><span style=background-image:url(/images/xslt/xsl.png) alt="Two/multi phases XSLT processing" class=thumbnail-image></span></a></div><div class=item-inner><p class=item-category><a class=article-category-link href="/categories/xslt/">xslt</a></p><p class=item-title><a href="/2016/11/04/multi-phases-xslt-processing/" class=title>Two/multi phases XSLT processing</a></p><p class=item-date><time datetime=2016-11-04T09:51:12.000Z itemprop=datePublished>2016-11-04</time></p></div></li><li><div class=item-thumbnail><a href="/2016/10/31/how-to-configure-a-proxy-server-in-ubuntu-step-by-step/" class=thumbnail><span style=background-image:url(/images/linux/proxy-server.jpg) alt="How to configure a proxy server in ubuntu - step by step" class=thumbnail-image></span></a></div><div class=item-inner><p class=item-category><a class=article-category-link href="/categories/linux/">linux</a></p><p class=item-title><a href="/2016/10/31/how-to-configure-a-proxy-server-in-ubuntu-step-by-step/" class=title>How to configure a proxy server in ubuntu - step by step</a></p><p class=item-date><time datetime=2016-10-31T09:51:12.000Z itemprop=datePublished>2016-10-31</time></p></div></li><li><div class=item-thumbnail><a href="/2016/10/24/ubuntu-apt-update-problems-and-solutions/" class=thumbnail><span style=background-image:url(/images/linux/apt.jpg) alt="ubuntu apt problem and solution" class=thumbnail-image></span></a></div><div class=item-inner><p class=item-category><a class=article-category-link href="/categories/linux/">linux</a></p><p class=item-title><a href="/2016/10/24/ubuntu-apt-update-problems-and-solutions/" class=title>ubuntu apt problem and solution</a></p><p class=item-date><time datetime=2016-10-24T08:51:12.000Z itemprop=datePublished>2016-10-24</time></p></div></li><li><div class=item-thumbnail><a href="/2016/10/17/ruby-tutorials-json/" class=thumbnail><span style=background-image:url(/images/ruby/json-logo.png) alt="Ruby tutorials - json" class=thumbnail-image></span></a></div><div class=item-inner><p class=item-category><a class=article-category-link href="/categories/ruby/">ruby</a></p><p class=item-title><a href="/2016/10/17/ruby-tutorials-json/" class=title>Ruby tutorials - json</a></p><p class=item-date><time datetime=2016-10-17T01:10:12.000Z itemprop=datePublished>2016-10-17</time></p></div></li><li><div class=item-thumbnail><a href="/2016/10/16/ruby-tutorials-nokogiri/" class=thumbnail><span style=background-image:url(/images/ruby/nokogiri.png) alt="Ruby tutorials - nokogiri" class=thumbnail-image></span></a></div><div class=item-inner><p class=item-category><a class=article-category-link href="/categories/ruby/">ruby</a></p><p class=item-title><a href="/2016/10/16/ruby-tutorials-nokogiri/" class=title>Ruby tutorials - nokogiri</a></p><p class=item-date><time datetime=2016-10-16T08:51:12.000Z itemprop=datePublished>2016-10-16</time></p></div></li></ul></div></div><div class="widget-wrap widget-list"><h3 class=widget-title>categories</h3><div class=widget><ul class=category-list><li class=category-list-item><a class=category-list-link href="/categories/css/">css</a><span class=category-list-count>1</span></li><li class=category-list-item><a class=category-list-link href="/categories/git/">git</a><span class=category-list-count>2</span></li><li class=category-list-item><a class=category-list-link href="/categories/hexo/">hexo</a><span class=category-list-count>3</span></li><li class=category-list-item><a class=category-list-link href="/categories/java/">java</a><span class=category-list-count>2</span></li><li class=category-list-item><a class=category-list-link href="/categories/javascript/">javascript</a><span class=category-list-count>1</span></li><li class=category-list-item><a class=category-list-link href="/categories/jekyll/">jekyll</a><span class=category-list-count>1</span></li><li class=category-list-item><a class=category-list-link href="/categories/linux/">linux</a><span class=category-list-count>5</span></li><li class=category-list-item><a class=category-list-link href="/categories/ruby/">ruby</a><span class=category-list-count>14</span></li><li class=category-list-item><a class=category-list-link href="/categories/solr/">solr</a><span class=category-list-count>1</span></li><li class=category-list-item><a class=category-list-link href="/categories/windows/">windows</a><span class=category-list-count>3</span></li><li class=category-list-item><a class=category-list-link href="/categories/xslt/">xslt</a><span class=category-list-count>2</span></li></ul></div></div><div class="widget-wrap widget-list"><div class=widget><a href=https://m.do.co/c/65b73b833dd9 target=_blank rel="external nofollow"><img src=/images/ads/digital-ocean-promo.gif></a></div></div><div class="widget-wrap widget-float"><h3 class=widget-title>tag cloud</h3><div class="widget tagcloud"><a href="/tags/JSTL/" style="font-size: 12.5px">JSTL</a> <a href="/tags/URL-redirects/" style="font-size: 10px">URL redirects</a> <a href="/tags/VM/" style="font-size: 10px">VM</a> <a href="/tags/activemq/" style="font-size: 10px">activemq</a> <a href="/tags/apt/" style="font-size: 10px">apt</a> <a href="/tags/css/" style="font-size: 10px">css</a> <a href="/tags/disqus/" style="font-size: 10px">disqus</a> <a href="/tags/dropbox/" style="font-size: 10px">dropbox</a> <a href="/tags/faraday/" style="font-size: 10px">faraday</a> <a href="/tags/feed/" style="font-size: 10px">feed</a> <a href="/tags/fontawesome/" style="font-size: 10px">fontawesome</a> <a href="/tags/gem/" style="font-size: 10px">gem</a> <a href="/tags/git/" style="font-size: 12.5px">git</a> <a href="/tags/gmail/" style="font-size: 10px">gmail</a> <a href="/tags/hexo/" style="font-size: 15px">hexo</a> <a href="/tags/html/" style="font-size: 10px">html</a> <a href="/tags/hyperlink/" style="font-size: 10px">hyperlink</a> <a href="/tags/image/" style="font-size: 10px">image</a> <a href="/tags/java/" style="font-size: 12.5px">java</a> <a href="/tags/javascript/" style="font-size: 10px">javascript</a> <a href="/tags/jekyll/" style="font-size: 10px">jekyll</a> <a href="/tags/json/" style="font-size: 10px">json</a> <a href="/tags/linux/" style="font-size: 17.5px">linux</a> <a href="/tags/minify/" style="font-size: 12.5px">minify</a> <a href="/tags/nofollow/" style="font-size: 10px">nofollow</a> <a href="/tags/nokogiri/" style="font-size: 12.5px">nokogiri</a> <a href="/tags/notepad/" style="font-size: 12.5px">notepad++</a> <a href="/tags/plugin/" style="font-size: 10px">plugin</a> <a href="/tags/proxy-server/" style="font-size: 10px">proxy server</a> <a href="/tags/qr/" style="font-size: 10px">qr</a> <a href="/tags/redis/" style="font-size: 10px">redis</a> <a href="/tags/ruby/" style="font-size: 20px">ruby</a> <a href="/tags/seo/" style="font-size: 10px">seo</a> <a href="/tags/shortener/" style="font-size: 10px">shortener</a> <a href="/tags/sitemap/" style="font-size: 10px">sitemap</a> <a href="/tags/slider/" style="font-size: 10px">slider</a> <a href="/tags/solr/" style="font-size: 10px">solr</a> <a href="/tags/tutorials/" style="font-size: 10px">tutorials</a> <a href="/tags/ubuntu/" style="font-size: 10px">ubuntu</a> <a href="/tags/vultr/" style="font-size: 10px">vultr</a> <a href="/tags/windows/" style="font-size: 12.5px">windows</a> <a href="/tags/xslt/" style="font-size: 15px">xslt</a></div></div></div></aside></div></div></div><footer id=footer><div class=container><div class=container-inner><a id=back-to-top href=javascript:;><i class="icon fa fa-angle-up"></i></a><div class=credit><p style="text-align: center">Contact me: <a href=mailto:yuxifanr@gmail.com rel="external nofollow" target=_blank>yuxifanr@gmail.com</a></p><br></div></div></div></footer><script>var disqus_shortname = 'yuxifan';
    
    
    var disqus_url = 'https://www.yuxifan.com/2016/09/06/2016-09-06-how-to-implement-hierarchical-faces/';
    
    (function() {
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();</script><script src=/vendor/lightgallery/js/lightgallery.min.js></script><script src=/vendor/lightgallery/js/lg-thumbnail.min.js></script><script src=/vendor/lightgallery/js/lg-pager.min.js></script><script src=/vendor/lightgallery/js/lg-autoplay.min.js></script><script src=/vendor/lightgallery/js/lg-fullscreen.min.js></script><script src=/vendor/lightgallery/js/lg-zoom.min.js></script><script src=/vendor/lightgallery/js/lg-hash.min.js></script><script src=/vendor/lightgallery/js/lg-share.min.js></script><script src=/vendor/lightgallery/js/lg-video.min.js></script><script src=/js/main.js></script></div>